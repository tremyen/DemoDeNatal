01 ' ---------------
02 ' Crazy Santa 
03 ' Uma Demo de Natal por Manoel Neto 2021-12-12
04 ' ---------------
100 KEY OFF : SCREEN 3,2,0       : ' SETA A TELA PARA O MODO GRAFICO 
102 COLOR 15,8,8                 : ' SETA AS CORES DA TELA 
105 CLS: R=RND(-TIME) 			 : ' LIMPA A TELA E PREPARA O RANDOM	
110 OPEN "GRP:" FOR OUTPUT AS #1 : ' ABRE A SCREEN 2 PARA ESCRITA 
120 GOSUB 10000                  : ' CARREGA OS DADOS DOS SPRITES NA RAM
140 GOSUB 200                    : ' DESENHA SPLASH SCREEN 
150 GOTO 400                     : ' COMECAO O LOOP DO JOGO
190 END 

200 ' ---------------
210 '  DESENHAR A SPLASH SCREEN
220 ' ---------------
225 GOSUB 9000
230 PRESET(55,70) : PRINT#1,"Feliz"
240 PRESET(55,120): PRINT#1,"Natal"
250 XP% = -16 : XA% = 263
260 YP% = 45  : YA% = 151
270 ' LOOPA ATE PRESSIONAR ESPACO 
280   XP% = XP% + 1 
290   XA% = XA% - 1
295   IF XP% > 255 THEN XP% = -16
297   IF XA% < 0   THEN XA% = 263     
300   GOSUB 2000
310   GOSUB 3000
320   IF STRIG(0)=1 THEN RETURN 
330 GOTO 270

400 ' ---------------
401 ' LOOP DO JOGO 
402 ' ---------------
406 CLS
410 END

2000 ' ---------------
2001 ' ADICIONAR SPRITE DE ARVORE 
2002 ' ---------------
2010 PUT SPRITE 0,(XA%,YA%),2,0 : PUT SPRITE 1,(XA%,YA%),6,1
2020 RETURN 

3000 ' ---------------
3001 ' ADICIONAR SPRITE DE PAPAI NOEL 
3002 ' ---------------
3010 PUT SPRITE 0,(XP%,YP%),1,2 
3020 PUT SPRITE 1,(XP%,YP%),6,3 
3030 PUT SPRITE 2,(XP%,YP%),10,4 
3040 PUT SPRITE 3,(XP%,YP%),15,5
3050 RETURN 

9000 ' ---------------
9001 ' MUSICA DE NATAL
9002 ' ---------------
9010 A$="T140V12o4cf8r8f8g8f8e8d8r8d8r8dg8r8g8a8g8f8e8r8eca8r8a8b-8a8g8f8r8fd16r16d8cft126ee8f2"
9020 PLAY A$
9030 RETURN 

10000 ' ---------------
10010 ' SPRITES
10020 ' ---------------
10040 DATA 01,03,07,03,07,0F,1F,0F,1F,3F,1F,3F,7F,FE,FC,00
10050 DATA 80,C0,E0,C0,E0,F0,F8,F0,F8,FC,F8,FC,FE,7F,3F,00
10060 DATA 00,00,00,00,00,00,00,00,00,00,00,00,00,01,03,01
10070 DATA 00,00,00,00,00,00,00,00,00,00,00,00,00,80,C0,80
10080 DATA 01,03,06,0C,18,10,10,12,10,10,12,09,08,0C,06,03
10090 DATA F0,18,6C,37,19,09,0F,48,08,08,48,90,30,20,60,C0
10100 DATA 00,00,01,03,04,0F,00,00,00,00,00,00,00,00,00,00
10110 DATA 00,E0,90,C8,20,F0,00,00,00,00,00,00,00,00,00,00
10120 DATA 00,00,00,00,00,00,00,05,07,00,00,00,00,00,00,00
10130 DATA 00,00,00,00,00,00,00,A0,E0,00,00,00,00,00,00,00
10140 DATA 00,00,00,00,03,00,0F,08,08,0F,0D,06,07,03,01,00
10150 DATA 00,00,00,00,C6,06,F0,10,10,F0,B0,60,C0,C0,80,00
10160 DATA *
13000 ' --------------- 
13001 ' CARREGAR SPRITES NA VRAM
13002 ' --------------- 
13005 'PRESET(1,1): PRINT#1,"CARREGANDO SPRITES NA VRAM..."
13090 S=BASE(9)
13100 READ R$: IF R$="*" THEN RETURN ELSE VPOKE S,VAL("&H"+R$):S=S+1:GOTO 13100
 